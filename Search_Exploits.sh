#!/bin/bash

test -f /usr/bin/git
comp_git=$(echo $?)

test -f /usr/bin/searchsploit
comp_searchsploit=$(echo $?)

if test $comp_searchsploit = "0" && $comp_git = "0"; then
  echo "Dependencies Installed"
  read -p "Insert the name of the program you want to comprobe if has an unkown exploit: " search
  searchsploit $search
  read -p "Insert the exploit you want to Download: " choise
  searchsploit -m $choise

else
  echo "It's neccesary to install dependencies"
  
  if test $comp_git != "0"; then
    apt install git -y
  fi

  if test $comp_searchsploit != "0"; then
    git clone https://gitlab.com/exploit-database/exploitdb.git && cd exploitdb/ && mv * /usr/bin && cd .. && rm -r exploitdb/
  fi
read -p "Insert the name of the program you want to comprobe if has an unkown exploit: " search
searchsploit $search
read -p "Insert the exploit you want to Download: " choise
searchsploit -m $choise
fi
